<!-- Floating Chat Button -->
<button id="luma-chat-toggle" class="fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full  text-white text-2xl hover:scale-110 hover:shadow-lg transition-all duration-300 flex items-center justify-center">
  <img src="/assets/img/luma-ai-bot/robotluma.svg" alt="Luma AI" class="w-8 h-8">
</button>

<!-- Chat Popup -->
<div id="luma-chat-popup" class="fixed bottom-24 right-6 w-96 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-xl z-40 hidden transform transition-all duration-300 opacity-0 scale-95 border border-purple-100">
  <!-- Header -->
  <div class=" text-white p-4 rounded-t-2xl flex justify-between items-center">
    <div class="flex items-center gap-3">
      <div class="relative">
        <img src="/assets/img/luma-ai-bot/robotluma.svg" alt="Luma AI" class="w-10 h-10">
        <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"></div>
      </div>
      <div>
        <h3 class="font-semibold text-lg">Luma AI</h3>
        <p class="text-xs text-purple-100" id="luma-status">Online</p>
      </div>
    </div>
    <button id="luma-chat-close" class="text-white hover:text-purple-200 transition-colors">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
  </div>
  
  <!-- Chat Body -->
  <div id="luma-chat-body" class="flex-1 p-4 overflow-y-auto h-[400px] bg-gradient-to-b from-purple-50 to-white">
    <!-- Messages will be inserted here -->
  </div>
  
  <!-- Quick Actions -->
  <div class="px-4 py-2 border-t border-purple-100 bg-white">
    <div class="flex gap-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-purple-200">
      <button class="quick-action-btn whitespace-nowrap px-4 py-1.5 text-sm bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors">
        Mulai Quest ðŸŽ¯
      </button>
      <button class="quick-action-btn whitespace-nowrap px-4 py-1.5 text-sm bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors">
        Program ðŸŒ±
      </button>
      <button class="quick-action-btn whitespace-nowrap px-4 py-1.5 text-sm bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors">
        Dampak ðŸ“Š
      </button>
      <button class="quick-action-btn whitespace-nowrap px-4 py-1.5 text-sm bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors">
        Komunitas ðŸ‘¥
      </button>
    </div>
  </div>
  
  <!-- Input Area -->
  <div class="p-4 border-t border-purple-100 bg-white rounded-b-2xl">
    <div class="flex gap-2">
      <input 
        type="text" 
        id="luma-chat-input" 
        placeholder="Ketik pesan Anda..." 
        class="flex-1 px-4 py-2 border border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white text-gray-800 placeholder-gray-400"
      >
      <button 
        id="luma-chat-send" 
        class="px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl hover:opacity-90 transition-all flex items-center justify-center"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
        </svg>
      </button>
    </div>
  </div>
</div>


<div id="luma-chat-container"></div>

<style>
.message-bubble {
  max-width: 80%;
  margin-bottom: 1rem;
}

.user-message {
  background: linear-gradient(to right, #6366f1, #8b5cf6);
  color: white;
  border-radius: 1rem 1rem 0 1rem;
  padding: 0.75rem 1rem;
  margin-left: auto;
}

.bot-message {
  background: white;
  color: #1f2937;
  border: 1px solid #e5e7eb;
  border-radius: 1rem 1rem 1rem 0;
  padding: 0.75rem 1rem;
  margin-right: auto;
}

.typing-indicator {
  display: flex;
  gap: 0.5rem;
  padding: 1rem;
  background: white;
  border-radius: 1rem 1rem 1rem 0;
  border: 1px solid #e5e7eb;
}

.typing-dot {
  width: 0.5rem;
  height: 0.5rem;
  background: #8b5cf6;
  border-radius: 50%;
  animation: typing-bounce 1.4s infinite;
}

.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes typing-bounce {
  0%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-0.5rem); }
}

.gradient-purple {
  background: linear-gradient(to right, #6366f1, #8b5cf6);
}
</style>
